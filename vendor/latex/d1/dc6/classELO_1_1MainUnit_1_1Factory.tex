\hypertarget{classELO_1_1MainUnit_1_1Factory}{}\subsection{Referência da Classe E\+L\+O.\+Main\+Unit.\+Factory}
\label{classELO_1_1MainUnit_1_1Factory}\index{E\+L\+O.\+Main\+Unit.\+Factory@{E\+L\+O.\+Main\+Unit.\+Factory}}


Classe factory.  


\subsubsection*{Métodos Públicos}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classELO_1_1MainUnit_1_1Factory_abb90458d8f89dd0fbfefcab94e9f023f}{run\+Home} (self, request, entity)
\begin{DoxyCompactList}\small\item\em Classe que redireciona para a devida home. \end{DoxyCompactList}\item 
def \hyperlink{classELO_1_1MainUnit_1_1Factory_a2d2e0e20ae0e92c1598c0fcab23a705a}{run\+Login} (self, request, entity)
\begin{DoxyCompactList}\small\item\em Classe que executa o módulo de login. \end{DoxyCompactList}\item 
def \hyperlink{classELO_1_1MainUnit_1_1Factory_a3cf09225adad89e9802b3df03f39f86b}{run\+Logout} (self, request)
\begin{DoxyCompactList}\small\item\em Classe que executa o logout. \end{DoxyCompactList}\item 
def \hyperlink{classELO_1_1MainUnit_1_1Factory_ab20a76f74180fc77c6b8fcd8de7942f1}{run\+Profile}
\begin{DoxyCompactList}\small\item\em Classe que executa a página inicial do módulo de Perfil. \end{DoxyCompactList}\item 
def \hyperlink{classELO_1_1MainUnit_1_1Factory_a533b402a54bf6f6715824a8687fa7a24}{run\+Adm}
\begin{DoxyCompactList}\small\item\em Classe que executa o módulo de Administração. \end{DoxyCompactList}\item 
def \hyperlink{classELO_1_1MainUnit_1_1Factory_a5e360bc5396fd576e0614b9e157b3816}{run\+Course}
\begin{DoxyCompactList}\small\item\em Classe que executa o módulo de Curso. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Descrição Detalhada}
Responsável pela construção e controle de fluxo de todo o programa. Tudo é criado a partir dela. 

Definição na linha \hyperlink{MainUnit_8py_source_l00042}{42} do arquivo \hyperlink{MainUnit_8py_source}{Main\+Unit.\+py}.



\subsubsection{Métodos}
\hypertarget{classELO_1_1MainUnit_1_1Factory_a533b402a54bf6f6715824a8687fa7a24}{}\index{E\+L\+O\+::\+Main\+Unit\+::\+Factory@{E\+L\+O\+::\+Main\+Unit\+::\+Factory}!run\+Adm@{run\+Adm}}
\index{run\+Adm@{run\+Adm}!E\+L\+O\+::\+Main\+Unit\+::\+Factory@{E\+L\+O\+::\+Main\+Unit\+::\+Factory}}
\paragraph[{run\+Adm}]{\setlength{\rightskip}{0pt plus 5cm}def E\+L\+O.\+Main\+Unit.\+Factory.\+run\+Adm (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{request, }
\item[{}]{action = {\ttfamily None}, }
\item[{}]{model = {\ttfamily None}}
\end{DoxyParamCaption}
)}\label{classELO_1_1MainUnit_1_1Factory_a533b402a54bf6f6715824a8687fa7a24}
Define as camadas de persinstência, negócio e apresentação de administração. 

Definição na linha \hyperlink{MainUnit_8py_source_l00135}{135} do arquivo \hyperlink{MainUnit_8py_source}{Main\+Unit.\+py}.



Referências \hyperlink{MainUnit_8py_source_l00044}{E\+L\+O.\+Main\+Unit.\+Factory.\+\_\+\+\_\+bus}, \hyperlink{CourseUnit_8py_source_l00055}{Course.\+Course\+Unit.\+If\+Ui\+Course.\+\_\+\+\_\+bus}, \hyperlink{AdmUnit_8py_source_l00067}{Adm.\+Adm\+Unit.\+If\+Ui\+Adm.\+\_\+\+\_\+bus}, \hyperlink{MainUnit_8py_source_l00045}{E\+L\+O.\+Main\+Unit.\+Factory.\+\_\+\+\_\+pers}, \hyperlink{CourseUnit_8py_source_l00099}{Course.\+Course\+Unit.\+If\+Bus\+Course.\+\_\+\+\_\+pers}, \hyperlink{AdmUnit_8py_source_l00112}{Adm.\+Adm\+Unit.\+If\+Bus\+Adm.\+\_\+\+\_\+pers} e \hyperlink{MainUnit_8py_source_l00043}{E\+L\+O.\+Main\+Unit.\+Factory.\+\_\+\+\_\+ui}.



Referenciado por \hyperlink{classELO_1_1MainUnit_1_1Factory_abb90458d8f89dd0fbfefcab94e9f023f}{E\+L\+O.\+Main\+Unit.\+Factory.\+run\+Home()}.


\begin{DoxyCode}
\hypertarget{classELO_1_1MainUnit_1_1Factory_l00135}{}\hyperlink{classELO_1_1MainUnit_1_1Factory_a533b402a54bf6f6715824a8687fa7a24}{00135}     \textcolor{keyword}{def }\hyperlink{classELO_1_1MainUnit_1_1Factory_a533b402a54bf6f6715824a8687fa7a24}{runAdm}(self, request, action=None, model=None):
00136         \textcolor{comment}{# Checa se usuario ja esta logado}
00137         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'user'} \textcolor{keywordflow}{in} request.session.keys():
00138             if(request.session[\textcolor{stringliteral}{'user'}][\textcolor{stringliteral}{'type'}] == \textcolor{stringliteral}{'Adm'} \textcolor{keywordflow}{or}
00139                request.session[\textcolor{stringliteral}{'user'}][\textcolor{stringliteral}{'type'}] == \textcolor{stringliteral}{'God'}):
00140                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a189a44a11e1a66ba69663eb2c598dd7c}{\_\_ui}, IfUiAdm):
00141                     self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a68f6640ad3b515e1b8cd48d1554c0779}{\_\_pers} = \hyperlink{classAdm_1_1AdmUnit_1_1PersAdm}{PersAdm}()
00142                     self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a6a0b7b93046e095779ba54e0a8a4d02c}{\_\_bus} = \hyperlink{classAdm_1_1AdmUnit_1_1BusAdm}{BusAdm}(self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a68f6640ad3b515e1b8cd48d1554c0779}{\_\_pers})
00143                     self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a189a44a11e1a66ba69663eb2c598dd7c}{\_\_ui} = \hyperlink{classAdm_1_1AdmUnit_1_1UiAdm}{UiAdm}(self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a6a0b7b93046e095779ba54e0a8a4d02c}{\_\_bus}) 
00144                 
00145                 \textcolor{keywordflow}{if} action != \textcolor{keywordtype}{None} \textcolor{keywordflow}{and} model != \textcolor{keywordtype}{None}:
00146                     \textcolor{keywordflow}{return} self.\_\_ui.run(request, action)
00147                 
00148                 \textcolor{keywordflow}{return} self.\_\_ui.run(request)
00149         \textcolor{keywordflow}{raise} PermissionDenied(lang.DICT[\textcolor{stringliteral}{"EXCEPTION\_403\_STD"}])
00150 
\end{DoxyCode}
\hypertarget{classELO_1_1MainUnit_1_1Factory_a5e360bc5396fd576e0614b9e157b3816}{}\index{E\+L\+O\+::\+Main\+Unit\+::\+Factory@{E\+L\+O\+::\+Main\+Unit\+::\+Factory}!run\+Course@{run\+Course}}
\index{run\+Course@{run\+Course}!E\+L\+O\+::\+Main\+Unit\+::\+Factory@{E\+L\+O\+::\+Main\+Unit\+::\+Factory}}
\paragraph[{run\+Course}]{\setlength{\rightskip}{0pt plus 5cm}def E\+L\+O.\+Main\+Unit.\+Factory.\+run\+Course (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{request, }
\item[{}]{courseid = {\ttfamily None}}
\end{DoxyParamCaption}
)}\label{classELO_1_1MainUnit_1_1Factory_a5e360bc5396fd576e0614b9e157b3816}
Define as camadas de persistência, negócio e apresentação de curso. 

Definição na linha \hyperlink{MainUnit_8py_source_l00156}{156} do arquivo \hyperlink{MainUnit_8py_source}{Main\+Unit.\+py}.



Referências \hyperlink{MainUnit_8py_source_l00044}{E\+L\+O.\+Main\+Unit.\+Factory.\+\_\+\+\_\+bus}, \hyperlink{CourseUnit_8py_source_l00055}{Course.\+Course\+Unit.\+If\+Ui\+Course.\+\_\+\+\_\+bus}, \hyperlink{AdmUnit_8py_source_l00067}{Adm.\+Adm\+Unit.\+If\+Ui\+Adm.\+\_\+\+\_\+bus}, \hyperlink{MainUnit_8py_source_l00045}{E\+L\+O.\+Main\+Unit.\+Factory.\+\_\+\+\_\+pers}, \hyperlink{CourseUnit_8py_source_l00099}{Course.\+Course\+Unit.\+If\+Bus\+Course.\+\_\+\+\_\+pers}, \hyperlink{AdmUnit_8py_source_l00112}{Adm.\+Adm\+Unit.\+If\+Bus\+Adm.\+\_\+\+\_\+pers} e \hyperlink{MainUnit_8py_source_l00043}{E\+L\+O.\+Main\+Unit.\+Factory.\+\_\+\+\_\+ui}.


\begin{DoxyCode}
\hypertarget{classELO_1_1MainUnit_1_1Factory_l00156}{}\hyperlink{classELO_1_1MainUnit_1_1Factory_a5e360bc5396fd576e0614b9e157b3816}{00156}     \textcolor{keyword}{def }\hyperlink{classELO_1_1MainUnit_1_1Factory_a5e360bc5396fd576e0614b9e157b3816}{runCourse}(self, request, courseid=None):
00157         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'user'} \textcolor{keywordflow}{in} request.session.keys():
00158             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a189a44a11e1a66ba69663eb2c598dd7c}{\_\_ui} \textcolor{keywordflow}{is} IfUiCourse:
00159                 self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a68f6640ad3b515e1b8cd48d1554c0779}{\_\_pers} = \hyperlink{classCourse_1_1CourseUnit_1_1PersCourse}{PersCourse}()
00160                 self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a6a0b7b93046e095779ba54e0a8a4d02c}{\_\_bus} = \hyperlink{classCourse_1_1CourseUnit_1_1BusCourse}{BusCourse}(self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a68f6640ad3b515e1b8cd48d1554c0779}{\_\_pers})
00161                 self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a189a44a11e1a66ba69663eb2c598dd7c}{\_\_ui} = \hyperlink{classCourse_1_1CourseUnit_1_1UiCourse}{UiCourse}(self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a6a0b7b93046e095779ba54e0a8a4d02c}{\_\_bus})
00162 
00163             \textcolor{keywordflow}{return} self.\_\_ui.run(request, courseid)
00164         \textcolor{keywordflow}{print} \textcolor{stringliteral}{'runCourse('} +str(self)+\textcolor{stringliteral}{','}+str(request)+\textcolor{stringliteral}{',courseid='}+str(courseid)
00165         \textcolor{keywordflow}{raise} PermissionDenied(lang.DICT[\textcolor{stringliteral}{"EXCEPTION\_403\_STD"}])
00166 \end{DoxyCode}
\hypertarget{classELO_1_1MainUnit_1_1Factory_abb90458d8f89dd0fbfefcab94e9f023f}{}\index{E\+L\+O\+::\+Main\+Unit\+::\+Factory@{E\+L\+O\+::\+Main\+Unit\+::\+Factory}!run\+Home@{run\+Home}}
\index{run\+Home@{run\+Home}!E\+L\+O\+::\+Main\+Unit\+::\+Factory@{E\+L\+O\+::\+Main\+Unit\+::\+Factory}}
\paragraph[{run\+Home}]{\setlength{\rightskip}{0pt plus 5cm}def E\+L\+O.\+Main\+Unit.\+Factory.\+run\+Home (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{request, }
\item[{}]{entity}
\end{DoxyParamCaption}
)}\label{classELO_1_1MainUnit_1_1Factory_abb90458d8f89dd0fbfefcab94e9f023f}
Caso o usuário já esteja devidamente logado, redireciona para o profile, caso contrário, vai para a página de login. 

Definição na linha \hyperlink{MainUnit_8py_source_l00052}{52} do arquivo \hyperlink{MainUnit_8py_source}{Main\+Unit.\+py}.



Referências \hyperlink{classELO_1_1MainUnit_1_1Factory_a533b402a54bf6f6715824a8687fa7a24}{E\+L\+O.\+Main\+Unit.\+Factory.\+run\+Adm()}, \hyperlink{classELO_1_1MainUnit_1_1Factory_a2d2e0e20ae0e92c1598c0fcab23a705a}{E\+L\+O.\+Main\+Unit.\+Factory.\+run\+Login()} e \hyperlink{classELO_1_1MainUnit_1_1Factory_ab20a76f74180fc77c6b8fcd8de7942f1}{E\+L\+O.\+Main\+Unit.\+Factory.\+run\+Profile()}.


\begin{DoxyCode}
\hypertarget{classELO_1_1MainUnit_1_1Factory_l00052}{}\hyperlink{classELO_1_1MainUnit_1_1Factory_abb90458d8f89dd0fbfefcab94e9f023f}{00052}     \textcolor{keyword}{def }\hyperlink{classELO_1_1MainUnit_1_1Factory_abb90458d8f89dd0fbfefcab94e9f023f}{runHome}(self, request, entity):
00053         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'user'} \textcolor{keywordflow}{in} request.session.keys():
00054             \textcolor{keywordflow}{if} (request.session[\textcolor{stringliteral}{'user'}][\textcolor{stringliteral}{'type'}] == \textcolor{stringliteral}{"Adm"} \textcolor{keywordflow}{or} 
00055                request.session[\textcolor{stringliteral}{'user'}][\textcolor{stringliteral}{'type'}] == \textcolor{stringliteral}{"God"}):
00056                 \textcolor{keywordflow}{return} self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a533b402a54bf6f6715824a8687fa7a24}{runAdm}(request)
00057             \textcolor{keywordflow}{else}:
00058                 \textcolor{keywordflow}{return} self.\hyperlink{classELO_1_1MainUnit_1_1Factory_ab20a76f74180fc77c6b8fcd8de7942f1}{runProfile}(request, acctype=\textcolor{stringliteral}{'Home'})
00059         \textcolor{keywordflow}{else}:
00060             \textcolor{keywordflow}{return} self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a2d2e0e20ae0e92c1598c0fcab23a705a}{runLogin}(request, entity)
00061 
\end{DoxyCode}
\hypertarget{classELO_1_1MainUnit_1_1Factory_a2d2e0e20ae0e92c1598c0fcab23a705a}{}\index{E\+L\+O\+::\+Main\+Unit\+::\+Factory@{E\+L\+O\+::\+Main\+Unit\+::\+Factory}!run\+Login@{run\+Login}}
\index{run\+Login@{run\+Login}!E\+L\+O\+::\+Main\+Unit\+::\+Factory@{E\+L\+O\+::\+Main\+Unit\+::\+Factory}}
\paragraph[{run\+Login}]{\setlength{\rightskip}{0pt plus 5cm}def E\+L\+O.\+Main\+Unit.\+Factory.\+run\+Login (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{request, }
\item[{}]{entity}
\end{DoxyParamCaption}
)}\label{classELO_1_1MainUnit_1_1Factory_a2d2e0e20ae0e92c1598c0fcab23a705a}
Define as camadas de persistência, negócio de login e apresentação e verifica o tipo de usuário. 

Definição na linha \hyperlink{MainUnit_8py_source_l00067}{67} do arquivo \hyperlink{MainUnit_8py_source}{Main\+Unit.\+py}.



Referências \hyperlink{MainUnit_8py_source_l00044}{E\+L\+O.\+Main\+Unit.\+Factory.\+\_\+\+\_\+bus}, \hyperlink{CourseUnit_8py_source_l00055}{Course.\+Course\+Unit.\+If\+Ui\+Course.\+\_\+\+\_\+bus}, \hyperlink{AdmUnit_8py_source_l00067}{Adm.\+Adm\+Unit.\+If\+Ui\+Adm.\+\_\+\+\_\+bus}, \hyperlink{MainUnit_8py_source_l00045}{E\+L\+O.\+Main\+Unit.\+Factory.\+\_\+\+\_\+pers}, \hyperlink{CourseUnit_8py_source_l00099}{Course.\+Course\+Unit.\+If\+Bus\+Course.\+\_\+\+\_\+pers}, \hyperlink{AdmUnit_8py_source_l00112}{Adm.\+Adm\+Unit.\+If\+Bus\+Adm.\+\_\+\+\_\+pers} e \hyperlink{MainUnit_8py_source_l00043}{E\+L\+O.\+Main\+Unit.\+Factory.\+\_\+\+\_\+ui}.



Referenciado por \hyperlink{classELO_1_1MainUnit_1_1Factory_abb90458d8f89dd0fbfefcab94e9f023f}{E\+L\+O.\+Main\+Unit.\+Factory.\+run\+Home()} e \hyperlink{classELO_1_1MainUnit_1_1Factory_a3cf09225adad89e9802b3df03f39f86b}{E\+L\+O.\+Main\+Unit.\+Factory.\+run\+Logout()}.


\begin{DoxyCode}
\hypertarget{classELO_1_1MainUnit_1_1Factory_l00067}{}\hyperlink{classELO_1_1MainUnit_1_1Factory_a2d2e0e20ae0e92c1598c0fcab23a705a}{00067}     \textcolor{keyword}{def }\hyperlink{classELO_1_1MainUnit_1_1Factory_a2d2e0e20ae0e92c1598c0fcab23a705a}{runLogin}(self, request, entity):
00068         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a189a44a11e1a66ba69663eb2c598dd7c}{\_\_ui}, IfUiLogin):
00069             self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a68f6640ad3b515e1b8cd48d1554c0779}{\_\_pers} = \hyperlink{classLogin_1_1LoginUnit_1_1PersLogin}{PersLogin}()
00070             self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a6a0b7b93046e095779ba54e0a8a4d02c}{\_\_bus} = \hyperlink{classLogin_1_1LoginUnit_1_1BusLogin}{BusLogin}(self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a68f6640ad3b515e1b8cd48d1554c0779}{\_\_pers})
00071             self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a189a44a11e1a66ba69663eb2c598dd7c}{\_\_ui} = \hyperlink{classLogin_1_1LoginUnit_1_1UiLogin}{UiLogin}(self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a6a0b7b93046e095779ba54e0a8a4d02c}{\_\_bus})
00072 
00073         \textcolor{keywordflow}{if} entity == \textcolor{stringliteral}{"Adm"}:
00074             database = Adm
00075         \textcolor{keywordflow}{elif} entity == \textcolor{stringliteral}{"God"}:
00076             database = God
00077         \textcolor{keywordflow}{elif} entity == \textcolor{stringliteral}{"Professor"}:
00078             database = Professor
00079         \textcolor{keywordflow}{elif} entity == \textcolor{stringliteral}{"Student"}:
00080             database = Student
00081         \textcolor{keywordflow}{else}:
00082             database = \textcolor{keywordtype}{None}
00083 
00084         \textcolor{keywordflow}{return} self.\_\_ui.run(request, database)
00085 
\end{DoxyCode}
\hypertarget{classELO_1_1MainUnit_1_1Factory_a3cf09225adad89e9802b3df03f39f86b}{}\index{E\+L\+O\+::\+Main\+Unit\+::\+Factory@{E\+L\+O\+::\+Main\+Unit\+::\+Factory}!run\+Logout@{run\+Logout}}
\index{run\+Logout@{run\+Logout}!E\+L\+O\+::\+Main\+Unit\+::\+Factory@{E\+L\+O\+::\+Main\+Unit\+::\+Factory}}
\paragraph[{run\+Logout}]{\setlength{\rightskip}{0pt plus 5cm}def E\+L\+O.\+Main\+Unit.\+Factory.\+run\+Logout (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{request}
\end{DoxyParamCaption}
)}\label{classELO_1_1MainUnit_1_1Factory_a3cf09225adad89e9802b3df03f39f86b}
Finaliza a sessão do usuário e redireciona para a página de login. 

Definição na linha \hyperlink{MainUnit_8py_source_l00089}{89} do arquivo \hyperlink{MainUnit_8py_source}{Main\+Unit.\+py}.



Referências \hyperlink{classELO_1_1MainUnit_1_1Factory_a2d2e0e20ae0e92c1598c0fcab23a705a}{E\+L\+O.\+Main\+Unit.\+Factory.\+run\+Login()}.


\begin{DoxyCode}
\hypertarget{classELO_1_1MainUnit_1_1Factory_l00089}{}\hyperlink{classELO_1_1MainUnit_1_1Factory_a3cf09225adad89e9802b3df03f39f86b}{00089}     \textcolor{keyword}{def }\hyperlink{classELO_1_1MainUnit_1_1Factory_a3cf09225adad89e9802b3df03f39f86b}{runLogout}(self, request):
00090         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'user'} \textcolor{keywordflow}{in} request.session.keys():
00091             del request.session[\textcolor{stringliteral}{'user'}]
00092             del request.session[translation.LANGUAGE\_SESSION\_KEY]
00093         \textcolor{keywordflow}{return} self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a2d2e0e20ae0e92c1598c0fcab23a705a}{runLogin}(request, \textcolor{stringliteral}{"Student"})
00094 
\end{DoxyCode}
\hypertarget{classELO_1_1MainUnit_1_1Factory_ab20a76f74180fc77c6b8fcd8de7942f1}{}\index{E\+L\+O\+::\+Main\+Unit\+::\+Factory@{E\+L\+O\+::\+Main\+Unit\+::\+Factory}!run\+Profile@{run\+Profile}}
\index{run\+Profile@{run\+Profile}!E\+L\+O\+::\+Main\+Unit\+::\+Factory@{E\+L\+O\+::\+Main\+Unit\+::\+Factory}}
\paragraph[{run\+Profile}]{\setlength{\rightskip}{0pt plus 5cm}def E\+L\+O.\+Main\+Unit.\+Factory.\+run\+Profile (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{request, }
\item[{}]{acctype, }
\item[{}]{field = {\ttfamily None}}
\end{DoxyParamCaption}
)}\label{classELO_1_1MainUnit_1_1Factory_ab20a76f74180fc77c6b8fcd8de7942f1}
Define as camadas de persistência, negócio e apresentação de perfil e proíbe o acesso de usuários não logados no sistema.

\begin{DoxyItemize}
\item acctype Define o tipo de acesso que o usuário está requerindo. \char`\"{}\+Full\char`\"{}\+: Acessa o Perfil completo, com possibilidade de edição. Caso a chamada seja assíncrona, retorna a form de edição do campo específico. \char`\"{}\+Home\char`\"{}\+: Acessa o Perfil resumido, a home do site em si. \end{DoxyItemize}


Definição na linha \hyperlink{MainUnit_8py_source_l00106}{106} do arquivo \hyperlink{MainUnit_8py_source}{Main\+Unit.\+py}.



Referências \hyperlink{MainUnit_8py_source_l00044}{E\+L\+O.\+Main\+Unit.\+Factory.\+\_\+\+\_\+bus}, \hyperlink{CourseUnit_8py_source_l00055}{Course.\+Course\+Unit.\+If\+Ui\+Course.\+\_\+\+\_\+bus}, \hyperlink{AdmUnit_8py_source_l00067}{Adm.\+Adm\+Unit.\+If\+Ui\+Adm.\+\_\+\+\_\+bus}, \hyperlink{MainUnit_8py_source_l00045}{E\+L\+O.\+Main\+Unit.\+Factory.\+\_\+\+\_\+pers}, \hyperlink{CourseUnit_8py_source_l00099}{Course.\+Course\+Unit.\+If\+Bus\+Course.\+\_\+\+\_\+pers}, \hyperlink{AdmUnit_8py_source_l00112}{Adm.\+Adm\+Unit.\+If\+Bus\+Adm.\+\_\+\+\_\+pers} e \hyperlink{MainUnit_8py_source_l00043}{E\+L\+O.\+Main\+Unit.\+Factory.\+\_\+\+\_\+ui}.



Referenciado por \hyperlink{classELO_1_1MainUnit_1_1Factory_abb90458d8f89dd0fbfefcab94e9f023f}{E\+L\+O.\+Main\+Unit.\+Factory.\+run\+Home()}.


\begin{DoxyCode}
\hypertarget{classELO_1_1MainUnit_1_1Factory_l00106}{}\hyperlink{classELO_1_1MainUnit_1_1Factory_ab20a76f74180fc77c6b8fcd8de7942f1}{00106}     \textcolor{keyword}{def }\hyperlink{classELO_1_1MainUnit_1_1Factory_ab20a76f74180fc77c6b8fcd8de7942f1}{runProfile}(self, request, acctype, field=None):
00107         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'user'} \textcolor{keywordflow}{in} request.session.keys(): \textcolor{comment}{# is user logged?}
00108             user\_type = request.session[\textcolor{stringliteral}{'user'}][\textcolor{stringliteral}{'type'}]
00109             \textcolor{keywordflow}{if} user\_type == \textcolor{stringliteral}{'Professor'} \textcolor{keywordflow}{or} user\_type == \textcolor{stringliteral}{'Student'}:
00110                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} isinstance(self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a189a44a11e1a66ba69663eb2c598dd7c}{\_\_ui}, IfUiProfile):
00111                     self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a68f6640ad3b515e1b8cd48d1554c0779}{\_\_pers} = \hyperlink{classProfile_1_1ProfileUnit_1_1PersProfile}{PersProfile}()
00112                     self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a6a0b7b93046e095779ba54e0a8a4d02c}{\_\_bus} = \hyperlink{classProfile_1_1ProfileUnit_1_1BusProfile}{BusProfile}(self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a68f6640ad3b515e1b8cd48d1554c0779}{\_\_pers})
00113                 \textcolor{keywordflow}{if} acctype == \textcolor{stringliteral}{"Full"}:
00114                     self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a189a44a11e1a66ba69663eb2c598dd7c}{\_\_ui} = \hyperlink{classProfile_1_1ProfileUnit_1_1UiFullProfile}{UiFullProfile}(self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a6a0b7b93046e095779ba54e0a8a4d02c}{\_\_bus})
00115                 \textcolor{keywordflow}{elif} acctype == \textcolor{stringliteral}{"Home"}:
00116                     self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a189a44a11e1a66ba69663eb2c598dd7c}{\_\_ui} = \hyperlink{classProfile_1_1ProfileUnit_1_1UiHomeProfile}{UiHomeProfile}(self.\hyperlink{classELO_1_1MainUnit_1_1Factory_a6a0b7b93046e095779ba54e0a8a4d02c}{\_\_bus})
00117                 \textcolor{keywordflow}{else}:
00118                     \textcolor{keywordflow}{raise} Http404(lang.DICT[\textcolor{stringliteral}{"EXCEPTION\_404\_ERR"}])
00119             
00120                 \textcolor{keywordflow}{if} field \textcolor{keywordflow}{and} acctype == \textcolor{stringliteral}{"Full"}:
00121                     \textcolor{keywordflow}{return} self.\_\_ui.run(request, field)
00122                 \textcolor{keywordflow}{else}:
00123                     \textcolor{keywordflow}{return} self.\_\_ui.run(request)
00124             \textcolor{keywordflow}{else}:
00125                 \textcolor{keywordflow}{raise} Http404(lang.DICT[\textcolor{stringliteral}{"EXCEPTION\_404\_ERR"}])
00126         \textcolor{keywordflow}{else}:
00127             \textcolor{keywordflow}{raise} PermissionDenied(lang.DICT[\textcolor{stringliteral}{"EXCEPTION\_403\_STD"}])
00128         
00129 
\end{DoxyCode}


A documentação para esta classe foi gerada a partir do seguinte arquivo\+:\begin{DoxyCompactItemize}
\item 
E\+L\+O/\+E\+L\+O/\hyperlink{MainUnit_8py}{Main\+Unit.\+py}\end{DoxyCompactItemize}
