\hypertarget{classProfile_1_1ProfileUnit_1_1BusProfile}{\subsection{Referência da Classe Profile.\-Profile\-Unit.\-Bus\-Profile}
\label{classProfile_1_1ProfileUnit_1_1BusProfile}\index{Profile.\-Profile\-Unit.\-Bus\-Profile@{Profile.\-Profile\-Unit.\-Bus\-Profile}}
}


Camada de negócio para perfil.  


Diagrama de Hierarquia para Profile.\-Profile\-Unit.\-Bus\-Profile\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{df/da4/classProfile_1_1ProfileUnit_1_1BusProfile}
\end{center}
\end{figure}
\subsubsection*{Métodos Públicos}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classProfile_1_1ProfileUnit_1_1BusProfile_a87c3d0374f709af7904656938eafd6d3}{refresh\-User}
\item 
def \hyperlink{classProfile_1_1ProfileUnit_1_1BusProfile_a5c116d007081ffefcc1c45cd34c88e10}{edit\-Field}
\end{DoxyCompactItemize}
\subsubsection*{Additional Inherited Members}


\subsubsection{Descrição Detalhada}
Deve ser capaz de manipular os dados de usuário, seja no sentido de atualizá-\/los ou modificá-\/los de alguma forma. 

Definição na linha \hyperlink{ProfileUnit_8py_source_l00300}{300} do arquivo \hyperlink{ProfileUnit_8py_source}{Profile\-Unit.\-py}.



\subsubsection{Métodos}
\hypertarget{classProfile_1_1ProfileUnit_1_1BusProfile_a5c116d007081ffefcc1c45cd34c88e10}{\index{Profile\-::\-Profile\-Unit\-::\-Bus\-Profile@{Profile\-::\-Profile\-Unit\-::\-Bus\-Profile}!edit\-Field@{edit\-Field}}
\index{edit\-Field@{edit\-Field}!Profile::ProfileUnit::BusProfile@{Profile\-::\-Profile\-Unit\-::\-Bus\-Profile}}
\paragraph[{edit\-Field}]{\setlength{\rightskip}{0pt plus 5cm}def Profile.\-Profile\-Unit.\-Bus\-Profile.\-edit\-Field (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{request, }
\item[{}]{field, }
\item[{}]{form}
\end{DoxyParamCaption}
)}}\label{classProfile_1_1ProfileUnit_1_1BusProfile_a5c116d007081ffefcc1c45cd34c88e10}


Definição na linha \hyperlink{ProfileUnit_8py_source_l00312}{312} do arquivo \hyperlink{ProfileUnit_8py_source}{Profile\-Unit.\-py}.


\begin{DoxyCode}
\hypertarget{classProfile_1_1ProfileUnit_1_1BusProfile_l00312}{}\hyperlink{classProfile_1_1ProfileUnit_1_1BusProfile_a5c116d007081ffefcc1c45cd34c88e10}{00312} 
00313     \textcolor{keyword}{def }\hyperlink{classProfile_1_1ProfileUnit_1_1BusProfile_a5c116d007081ffefcc1c45cd34c88e10}{editField}(self, request, field, form):
00314         user = request.session[\textcolor{stringliteral}{'user'}]
00315         \textcolor{keywordflow}{if} field == \textcolor{stringliteral}{"name"}:
00316             fpw = form.cleaned\_data[\textcolor{stringliteral}{'password'}].value
00317             \textcolor{keywordflow}{if} fpw != user[\textcolor{stringliteral}{'password'}]:
00318                 \textcolor{keywordflow}{raise} ValueError(lang.DICT[\textcolor{stringliteral}{'EXCEPTION\_INV\_PW\_F'}])
00319             newdata = form.cleaned\_data[\textcolor{stringliteral}{'newdata'}].value
00320         \textcolor{keywordflow}{elif} field == \textcolor{stringliteral}{"language"}:
00321             newdata = form.cleaned\_data[\textcolor{stringliteral}{'newdata'}]
00322         \textcolor{keywordflow}{elif} field == \textcolor{stringliteral}{"avatar"}:
00323             addr = settings.MEDIA\_ROOT + \textcolor{stringliteral}{u"/"} + user[\textcolor{stringliteral}{'avatar'}]
00324             with open(addr, \textcolor{stringliteral}{"wb"}) \textcolor{keyword}{as} destination:
00325                     \textcolor{keywordflow}{for} chunk \textcolor{keywordflow}{in} request.FILES[\textcolor{stringliteral}{'newdata'}].chunks():
00326                         destination.write(chunk)
00327         \textcolor{keywordflow}{else}:
00328             newdata = form.cleaned\_data[\textcolor{stringliteral}{'newdata'}].value
00329 
00330         \textcolor{keywordflow}{try}:
00331             \textcolor{keywordflow}{if} user[\textcolor{stringliteral}{'type'}] == \textcolor{stringliteral}{'Student'} \textcolor{keywordflow}{and} field != \textcolor{stringliteral}{'avatar'}:
00332                 self.pers.update(user[\textcolor{stringliteral}{'name'}], field, newdata, Student)
00333             \textcolor{keywordflow}{elif} user[\textcolor{stringliteral}{'type'}] == \textcolor{stringliteral}{'Professor'} \textcolor{keywordflow}{and} field != \textcolor{stringliteral}{'avatar'}:
00334                 self.pers.update(user[\textcolor{stringliteral}{'name'}], field, newdata, Professor)
00335         \textcolor{keywordflow}{except} ValueError \textcolor{keyword}{as} exc:
00336             \textcolor{keywordflow}{raise} ValueError(lang.DICT[\textcolor{stringliteral}{'EXCEPTION\_ERR\_DB\_U'}])
00337         \textcolor{keywordflow}{else}:
00338             \textcolor{keywordflow}{if} field == \textcolor{stringliteral}{"language"}:
00339                 request.session[\textcolor{stringliteral}{'django\_language'}] = newdata
00340         \textcolor{keywordflow}{if} field == \textcolor{stringliteral}{'avatar'}:
00341             \textcolor{keywordflow}{return} user[\textcolor{stringliteral}{'avatar'}]
00342         \textcolor{keywordflow}{else}:
00343             \textcolor{keywordflow}{return} newdata

\end{DoxyCode}
\hypertarget{classProfile_1_1ProfileUnit_1_1BusProfile_a87c3d0374f709af7904656938eafd6d3}{\index{Profile\-::\-Profile\-Unit\-::\-Bus\-Profile@{Profile\-::\-Profile\-Unit\-::\-Bus\-Profile}!refresh\-User@{refresh\-User}}
\index{refresh\-User@{refresh\-User}!Profile::ProfileUnit::BusProfile@{Profile\-::\-Profile\-Unit\-::\-Bus\-Profile}}
\paragraph[{refresh\-User}]{\setlength{\rightskip}{0pt plus 5cm}def Profile.\-Profile\-Unit.\-Bus\-Profile.\-refresh\-User (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{request}
\end{DoxyParamCaption}
)}}\label{classProfile_1_1ProfileUnit_1_1BusProfile_a87c3d0374f709af7904656938eafd6d3}


Definição na linha \hyperlink{ProfileUnit_8py_source_l00302}{302} do arquivo \hyperlink{ProfileUnit_8py_source}{Profile\-Unit.\-py}.


\begin{DoxyCode}
\hypertarget{classProfile_1_1ProfileUnit_1_1BusProfile_l00302}{}\hyperlink{classProfile_1_1ProfileUnit_1_1BusProfile_a87c3d0374f709af7904656938eafd6d3}{00302} 
00303     \textcolor{keyword}{def }\hyperlink{classProfile_1_1ProfileUnit_1_1BusProfile_a87c3d0374f709af7904656938eafd6d3}{refreshUser}(self, request):
00304         user = request.session[\textcolor{stringliteral}{'user'}]
00305         \textcolor{keywordflow}{if} user[\textcolor{stringliteral}{'type'}] == \textcolor{stringliteral}{'Student'}:
00306             fs = self.pers.fetch(user[\textcolor{stringliteral}{'name'}], Student)
00307             fd = dict(fs)
00308             request.session[\textcolor{stringliteral}{'django\_language'}] = fd[\textcolor{stringliteral}{'language'}]
00309             \textcolor{keywordflow}{return} dict(user.items()+ self.pers.fetch(user[\textcolor{stringliteral}{'name'}], Student))
00310         \textcolor{keywordflow}{elif} user[\textcolor{stringliteral}{'type'}] == \textcolor{stringliteral}{'Professor'}:
00311             \textcolor{keywordflow}{return} dict(user.items()+ self.pers.fetch(user[\textcolor{stringliteral}{'name'}], Professor))

\end{DoxyCode}


A documentação para esta classe foi gerada a partir do seguinte arquivo\-:\begin{DoxyCompactItemize}
\item 
E\-L\-O/\-Profile/\hyperlink{ProfileUnit_8py}{Profile\-Unit.\-py}\end{DoxyCompactItemize}
